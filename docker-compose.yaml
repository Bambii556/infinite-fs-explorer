version: "3.9"
services:
  api:
    build: ./backend
    ports: ["4000:4000"]
    volumes:
      - ./data:/data:ro # Mount data directory as read-only
    environment:
      DATA_ROOT: /data
    user: "1000:1000"

  web:
    build: ./frontend
    ports: ["4200:80"]
    depends_on: [api]
